<!-- inherit from base template -->
{% extends 'base.html' %}
<!-- inherit from base template -->

<!-- page title -->
{% block title %} Dashboard {% endblock %}
<!-- page title -->

<!-- app content -->
{% block app %}
<!-- app goes here -->
<div class="dashboard">
  <div class="dash-menu menu">
    <p class="menu-label">Students Data</p>
    <ul class="menu-list">
      <li>
        <a class="has-background-dark has-text-light">All Students</a>
        <ul>
          <li>
            <a href="/dashboard"
              ><i class="bi bi-arrow-clockwise all-students"></i> Refresh</a
            >
          </li>
          <li>
            <a><i class="bi bi-calculator"></i> Total: {{ total }}</a>
          </li>
        </ul>
      </li>
    </ul>
    <p class="menu-label">Charts</p>
    <ul class="menu-list">
      <li>
        <a id="visualize-data-btn">Data Analysis</a>
        <ul id="visualize-data">
          <li id="psd"><a>Average of all units per sem</a></li>
          <li><a href="#" class="avg-all-unts">Average of all units</a></li>
        </ul>
      </li>
    </ul>
    <!-- add new student record -->
    <a href="#" class="button is-light add-student">Add student</a>
    <!-- add new student record -->
  </div>
  <div class="dash-body">
    <div id="student-list">
      <table class="table is-hoverable is-fullwidth">
        <thead class="has-background-grey-light">
          <tr>
            <th>id</th>
            <th>First name</th>
            <th>Second name</th>
            <th>View</th>
          </tr>
        </thead>
        <tbody class="">
          {% for student in all_students %}
          <!--  -->
          <tr>
            <th class="is-underlined">{{student.id}}</th>
            <td>{{student.firstname}}</td>
            <td>{{student.secondname}}</td>
            <td>
              <a href="/dashboard/{{ student.id }}" class="is-underlined"
                ><i class="bi bi-box-arrow-up-right"></i
              ></a>
            </td>
          </tr>
          <!--  -->
          {% endfor %}
        </tbody>
      </table>
      <!-- students table -->
      <p class="has-text-centered is-size-3 is-underlined has-text-dark">
        Charts
      </p>
      <hr class="divider" />
      <!-- charts -->
      <div class="charts">
        <canvas
          id="all-unit-average"
          aria-label="Hello ARIA World"
          width="400"
          height="200"
          role="img"
        ></canvas>
      </div>
      <!-- charts -->
    </div>
  </div>
</div>

<!-- include add students template -->
{% include 'add_students.html' %}
<!-- include add students template -->

<!-- app goes here -->
{% endblock %}
<!-- app content -->
