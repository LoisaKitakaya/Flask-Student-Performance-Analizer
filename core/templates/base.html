<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- bootstrap icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.2/font/bootstrap-icons.css"
      integrity="sha384-eoTu3+HydHRBIjnCVwsFyCpUDZHZSFKEJD0mc3ZqSBSb6YhZzRHeiomAUWCstIWo"
      crossorigin="anonymous"
    />
    <!-- bootstrap icons -->

    <!-- jquery -->
    <script
      src="https://code.jquery.com/jquery-3.6.0.js"
      integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
      crossorigin="anonymous"
    ></script>
    <!-- jquery -->

    <!-- chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- chart.js -->

    <!-- style.css -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <!-- style.css -->

    <!-- page title -->
    <title>SPA | {% block title %} {% endblock %}</title>
    <!-- page title -->
  </head>
  <!--  -->
  <body>
    <!-- navigation -->
    <nav class="navbar" role="navigation" aria-label="main navigation">
      <div class="navbar-brand">
        <a class="navbar-item is-size-3 has-text-info-dark" href="/">
          SPA <span class="nav-brand is-size-5">.home</span>
        </a>
      </div>
      <div id="navbarBasicExample" class="navbar-menu">
        <div class="navbar-start">
          <a class="navbar-item" href="/admin"> Admin </a>
          <a class="navbar-item" href="/dashboard"> Dashboard </a>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link"> More </a>
            <div class="navbar-dropdown">
              <a class="navbar-item" href="#"> About </a>
              <a class="navbar-item" href="#"> Contact </a>
              <hr class="navbar-divider" />
              <a class="navbar-item" href="#"> Report an issue </a>
            </div>
          </div>
        </div>
        <div class="navbar-end">
          <div class="navbar-item">
            <div class="buttons">
              {% if current_user.is_authenticated %}
              <!--  -->
              <p class="navbar-item button is-light">
                <em>Current user: </em>_<strong>{{ logged_user }}</strong>_
              </p>
              <a class="button is-danger" href="/logout"> Log out </a>
              <!--  -->
              {% else %}
              <!--  -->
              <a class="button is-primary" href="/signup">
                <strong>Sign up</strong>
              </a>
              <a class="button is-info" href="/login"> Log in </a>
              <!--  -->
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </nav>
    <!-- navigation -->

    <!-- dashboard -->
    <div class="app">
      <!-- app goes here -->
      {% block app %}
      <!--  -->
      {% endblock %}
      <!-- app goes here -->
    </div>
    <!-- dashboard -->

    <!-- app messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    <!--  -->
    {% if messages %}
    <!--  -->
    {% for category, message in messages %}
    <!--  -->
    {% if category == 'error' %}
    <!--  -->
    <div class="notification is-danger">
      <button class="delete"></button>
      {{ message }}
    </div>
    <!--  -->
    {% else %}
    <!--  -->
    <div class="notification is-success">
      <button class="delete"></button>
      {{ message }}
    </div>
    <!--  -->
    {% endif %}
    <!--  -->
    {% endfor %}
    <!--  -->
    {% endif %}
    <!--  -->
    {% endwith %}
    <!-- app messages -->
  </body>
  <!--  -->

  <!-- main.js -->
  <script src="{{ url_for('static', filename='main.js') }}"></script>
  <!-- main.js -->
</html>
